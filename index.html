<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DarkGym Programer</title>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  :root {
    --bg-dark: #121212;
    --bg-light: #fafafa;
    --text-dark: #eee;
    --text-light: #222;
    --primary-dark: #0a84ff;
    --primary-light: #0a84ff;
    --danger-dark: #ff3b30;
    --danger-light: #d32f2f;
    --success-dark: #34c759;
    --success-light: #2e7d32;
    --card-bg-dark: #222;
    --card-bg-light: #eee;
  }

  body {
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--bg-dark);
    color: var(--text-dark);
    display: flex;
    flex-direction: column;
    height: 100vh;
    transition: background-color 0.3s, color 0.3s;
  }
  body.light {
    background-color: var(--bg-light);
    color: var(--text-light);
  }

  header {
    padding: 15px;
    background: var(--card-bg-dark);
    text-align: center;
    font-size: 1.5rem;
    font-weight: 700;
    border-bottom: 1px solid #333;
    transition: background-color 0.3s;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  body.light header {
    background: var(--card-bg-light);
    border-color: #ccc;
  }

  main {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    margin-bottom: 60px;
  }

  .nav-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--card-bg-dark);
    border-top: 1px solid #333;
    z-index: 100;
    transition: all 0.3s;
    transform: translateY(0);
  }
  body.light .nav-container {
    background: var(--card-bg-light);
    border-color: #ccc;
  }

  .nav-container.hidden {
    transform: translateY(100%);
  }

  nav {
    display: flex;
    max-width: 800px;
    margin: 0 auto;
  }

  nav button {
    flex: 1;
    padding: 15px 0;
    background: none;
    border: none;
    color: inherit;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.3s;
    position: relative;
  }
  nav button:hover, nav button.active {
    background-color: #333;
  }
  body.light nav button:hover, body.light nav button.active {
    background-color: #ddd;
  }

  nav button::after {
    content: '';
    position: absolute;
    bottom: 5px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 3px;
    background: var(--primary-dark);
    transition: width 0.3s;
  }
  body.light nav button::after {
    background: var(--primary-light);
  }

  nav button.active::after {
    width: 50%;
  }

  select, input, textarea, button {
    font-size: 1rem;
    border-radius: 8px;
    border: none;
    padding: 10px;
    margin-top: 10px;
    transition: background-color 0.3s, color 0.3s;
  }

  select, input, textarea {
    width: 100%;
    background-color: var(--card-bg-dark);
    color: inherit;
  }
  body.light select, body.light input, body.light textarea {
    background-color: var(--card-bg-light);
    color: inherit;
  }

  textarea {
    resize: vertical;
    min-height: 80px;
  }

  button.primary {
    background-color: var(--primary-dark);
    color: white;
    margin-top: 15px;
  }
  body.light button.primary {
    background-color: var(--primary-light);
  }

  button.danger {
    background-color: var(--danger-dark);
    color: white;
  }
  body.light button.danger {
    background-color: var(--danger-light);
  }

  button.success {
    background-color: var(--success-dark);
    color: white;
  }
  body.light button.success {
    background-color: var(--success-light);
  }

  .workout-item {
    background-color: var(--card-bg-dark);
    margin-bottom: 10px;
    border-radius: 8px;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.3s;
  }
  body.light .workout-item {
    background-color: var(--card-bg-light);
  }

  .workout-info {
    max-width: 80%;
  }
  .workout-date {
    font-size: 0.85rem;
    color: #999;
  }
  body.light .workout-date {
    color: #555;
  }

  .stats-item {
    background-color: var(--card-bg-dark);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 10px;
    transition: background-color 0.3s;
  }
  body.light .stats-item {
    background-color: var(--card-bg-light);
  }

  .goal-item {
    background-color: var(--card-bg-dark);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  body.light .goal-item {
    background-color: var(--card-bg-light);
  }

  .goal-progress {
    height: 5px;
    background-color: #333;
    border-radius: 5px;
    margin-top: 5px;
  }
  body.light .goal-progress {
    background-color: #ddd;
  }

  .goal-progress-bar {
    height: 100%;
    border-radius: 5px;
    background-color: var(--primary-dark);
  }
  body.light .goal-progress-bar {
    background-color: var(--primary-light);
  }

  .goal-completed .goal-progress-bar {
    background-color: var(--success-dark);
  }
  body.light .goal-completed .goal-progress-bar {
    background-color: var(--success-light);
  }

  table {
    border-collapse: collapse;
    width: 100%;
    margin: 10px 0;
  }
  th, td {
    border: 1px solid #555;
    padding: 8px;
    text-align: center;
  }
  body.light th, body.light td {
    border-color: #ccc;
  }
  th {
    background-color: var(--card-bg-dark);
  }
  body.light th {
    background-color: var(--card-bg-light);
  }

  .info-table {
    margin-top: 20px;
    width: 100%;
  }
  
  .info-table th {
    background-color: var(--primary-dark);
    color: white;
  }
  body.light .info-table th {
    background-color: var(--primary-light);
  }

</style>
</head>
<body>

<header>
  DarkGym Programer
  <button id="theme-toggle" style="float:right; font-size:1rem; padding:5px 10px; border-radius:6px; border:none; cursor:pointer;">
    🌙
  </button>
</header>

<main id="main-content">
  <!-- Sayfalar JS ile gelecek -->
</main>

<div class="nav-container" id="nav-container">
  <nav>
    <button id="nav-save" class="active">Kaydet</button>
    <button id="nav-records">Kayıtlar</button>
    <button id="nav-stats">İstatistikler</button>
    <button id="nav-goals">Hedefler</button>
    <button id="nav-program">Program</button>
  </nav>
</div>

<script>
  // Kütüphane ve değişkenler
  const STORAGE_KEY = 'darkgym_workouts';
  const GOAL_KEY = 'darkgym_goals';
  const PROGRAM_KEY = 'darkgym_program';
  const THEME_KEY = 'darkgym_theme';

  const main = document.getElementById('main-content');
  const navContainer = document.getElementById('nav-container');
  const navSave = document.getElementById('nav-save');
  const navRecords = document.getElementById('nav-records');
  const navStats = document.getElementById('nav-stats');
  const navGoals = document.getElementById('nav-goals');
  const navProgram = document.getElementById('nav-program');
  const themeToggle = document.getElementById('theme-toggle');

  // Tema yönetimi
  function setTheme(theme) {
    if (theme === 'light') {
      document.body.classList.add('light');
      themeToggle.textContent = "☀️";
    } else {
      document.body.classList.remove('light');
      themeToggle.textContent = "🌙";
    }
    localStorage.setItem(THEME_KEY, theme);
  }

  function toggleTheme() {
    const current = localStorage.getItem(THEME_KEY) || 'dark';
    if (current === 'dark') setTheme('light');
    else setTheme('dark');
  }

  themeToggle.onclick = toggleTheme;
  setTheme(localStorage.getItem(THEME_KEY) || 'dark');

  // Navigasyon çubuğu kontrolü
  let lastScrollPosition = 0;
  window.addEventListener('scroll', function() {
    const currentScrollPosition = window.pageYOffset;
    if (currentScrollPosition > lastScrollPosition) {
      navContainer.classList.add('hidden');
    } else {
      navContainer.classList.remove('hidden');
    }
    lastScrollPosition = currentScrollPosition;
  });

  // Yardımcı fonksiyonlar
  function getTodayDate() {
    const d = new Date();
    return d.toLocaleDateString('tr-TR');
  }
  
  function getCurrentWeekNumber() {
    const d = new Date();
    const firstDay = new Date(d.getFullYear(), 0, 1);
    const pastDays = (d - firstDay) / 86400000;
    return Math.ceil((pastDays + firstDay.getDay() + 1) / 7);
  }
  
  function loadWorkouts() {
    try {
      const raw = localStorage.getItem(STORAGE_KEY);
      return raw ? JSON.parse(raw) : [];
    } catch { return []; }
  }
  
  function saveWorkouts(arr) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
  }
  
  function loadGoals() {
    try {
      const raw = localStorage.getItem(GOAL_KEY);
      return raw ? JSON.parse(raw) : [];
    } catch { return []; }
  }
  
  function saveGoals(goals) {
    localStorage.setItem(GOAL_KEY, JSON.stringify(goals));
  }
  
  function loadProgram() {
    try {
      const raw = localStorage.getItem(PROGRAM_KEY);
      return raw ? JSON.parse(raw) : {};
    } catch { return {}; }
  }
  
  function saveProgram(program) {
    localStorage.setItem(PROGRAM_KEY, JSON.stringify(program));
  }
  
  function setActiveButton(btn) {
    [navSave, navRecords, navStats, navGoals, navProgram].forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }

  // SAYFA: Kaydet
  function showSavePage() {
    setActiveButton(navSave);
    const goals = loadGoals();
    const activeGoal = goals.find(g => !g.completed);
    const program = loadProgram();
    
    let programHtml = '';
    if (Object.keys(program).length > 0) {
      programHtml = `
        <h3>Haftalık Program</h3>
        <table class="program-table">
          <thead>
            <tr>
              <th>Gün</th>
              <th>Kas Grubu</th>
            </tr>
          </thead>
          <tbody>
            ${Object.entries(program).map(([day, muscle]) => `
              <tr>
                <td>${day}</td>
                <td>${muscle || '-'}</td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      `;
    }
    
    let goalHtml = '';
    if (activeGoal) {
      const progressPercent = Math.min(100, (activeGoal.progress / activeGoal.target) * 100);
      goalHtml = `
        <h3>Hedef</h3>
        <table class="info-table">
          <tr>
            <th>Haftalık Hedef</th>
            <th>İlerleme</th>
            <th>Durum</th>
          </tr>
          <tr>
            <td>${activeGoal.target} antrenman</td>
            <td>${activeGoal.progress}/${activeGoal.target}</td>
            <td>
              <div style="width:100%; height:20px; background:#333; border-radius:10px;">
                <div style="width:${progressPercent}%; height:100%; background:var(--primary-dark); border-radius:10px;"></div>
              </div>
            </td>
          </tr>
        </table>
      `;
    }

    main.innerHTML = `
      <label>Kas Grubu Seç:</label>
      <select id="muscle-group">
        <option value="">Seçiniz</option>
        <option>Göğüs</option>
        <option>Sırt</option>
        <option>Bacak</option>
        <option>Kol</option>
        <option>Bilek</option>
        <option>Omuz</option>
        <option>Kardiyo</option>
        <option>Karın</option>
        <option>Dinlenme</option>
      </select>

      <label>Antrenman Detayları:</label>
      <textarea id="workout-details" placeholder="Örn: 3x10 Bench Press, 4x8 Squat"></textarea>

      <button class="primary" id="save-btn">Antrenmanı Kaydet</button>
      <p id="save-msg"></p>
      <p><strong>Tarih:</strong> ${getTodayDate()}</p>
      
      ${goalHtml}
      ${programHtml}
    `;

    document.getElementById('save-btn').onclick = () => {
      const muscleGroup = document.getElementById('muscle-group').value;
      const details = document.getElementById('workout-details').value.trim();
      const msg = document.getElementById('save-msg');
      if (!muscleGroup || !details) {
        msg.textContent = "Lütfen tüm alanları doldurun!";
        msg.style.color = 'orange';
        return;
      }

      const workouts = loadWorkouts();
      workouts.push({
        id: Date.now(),
        date: getTodayDate(),
        muscleGroup,
        details
      });
      saveWorkouts(workouts);
      msg.textContent = "Antrenman kaydedildi!";
      msg.style.color = 'lightgreen';
      document.getElementById('workout-details').value = '';
      document.getElementById('muscle-group').value = '';
      
      updateGoals();
      showSavePage();
    };
  }

  // Hedefleri güncelle
  function updateGoals() {
    const goals = loadGoals();
    const activeGoal = goals.find(g => !g.completed);
    if (!activeGoal) return;
    
    const workouts = loadWorkouts();
    const currentWeek = getCurrentWeekNumber();
    const weeklyWorkouts = workouts.filter(w => {
      const workoutDate = new Date(w.date.split('.').reverse().join('-'));
      const workoutWeek = getWeekNumber(workoutDate);
      return workoutWeek === currentWeek;
    }).length;
    
    activeGoal.progress = weeklyWorkouts;
    if (weeklyWorkouts >= activeGoal.target) {
      activeGoal.completed = true;
      activeGoal.completedDate = getTodayDate();
    }
    
    saveGoals(goals);
  }
  
  function getWeekNumber(date) {
    const firstDay = new Date(date.getFullYear(), 0, 1);
    const pastDays = (date - firstDay) / 86400000;
    return Math.ceil((pastDays + firstDay.getDay() + 1) / 7);
  }

  // SAYFA: Kayıtlar
  function showRecordsPage() {
    setActiveButton(navRecords);
    let workouts = loadWorkouts();

    main.innerHTML = `
      <button id="show-all" class="primary">Tümünü Göster</button>
      <button id="clear-all" class="danger">Tüm Kayıtları Sil</button>
      <input type="text" id="search-input" placeholder="Ara..." style="margin-top:10px; padding:10px; border-radius:8px; width:100%; background-color:var(--card-bg-dark); color:inherit; border:none;" />
      <div id="workout-list" style="margin-top:10px;"></div>
    `;

    const workoutList = document.getElementById('workout-list');
    const showAllBtn = document.getElementById('show-all');
    const clearAllBtn = document.getElementById('clear-all');
    const searchInput = document.getElementById('search-input');

    function renderList(filter = null) {
      workoutList.innerHTML = '';
      let list = workouts;
      if (filter) {
        list = workouts.filter(w =>
          w.muscleGroup.toLowerCase().includes(filter.toLowerCase()) ||
          w.details.toLowerCase().includes(filter.toLowerCase())
        );
      }
      if (list.length === 0) {
        workoutList.innerHTML = '<p>Kayıt bulunamadı.</p>';
        return;
      }

      list.forEach(w => {
        const div = document.createElement('div');
        div.className = 'workout-item';
        div.innerHTML = `
          <div class="workout-info">
            <strong>${w.muscleGroup}</strong> - <span class="workout-date">${w.date}</span>
            <p>${w.details}</p>
          </div>
          <button data-id="${w.id}" class="del-btn danger">Sil</button>
        `;
        workoutList.appendChild(div);
      });

      document.querySelectorAll('.del-btn').forEach(btn => {
        btn.onclick = e => {
          const id = parseInt(e.target.getAttribute('data-id'));
          workouts = workouts.filter(w => w.id !== id);
          saveWorkouts(workouts);
          renderList(filter);
        };
      });
    }

    showAllBtn.onclick = () => renderList();
    clearAllBtn.onclick = () => {
      if (confirm('Tüm kayıtlar silinecek, emin misin?')) {
        localStorage.removeItem(STORAGE_KEY);
        workouts = [];
        renderList();
      }
    };
    searchInput.oninput = () => renderList(searchInput.value);

    renderList();
  }

  // SAYFA: İstatistikler + Grafik
  function showStatsPage() {
    setActiveButton(navStats);
    const workouts = loadWorkouts();

    if (workouts.length === 0) {
      main.innerHTML = '<p>Henüz antrenman kaydı yok.</p>';
      return;
    }

    const stats = {};
    workouts.forEach(w => {
      stats[w.muscleGroup] = (stats[w.muscleGroup] || 0) + 1;
    });

    const today = new Date();
    const oneDayMs = 24*60*60*1000;

    const last7Days = [];
    for(let i=6; i>=0; i--) {
      const d = new Date(today.getTime() - i*oneDayMs);
      last7Days.push(d.toLocaleDateString('tr-TR'));
    }

    const last7DaysCounts = last7Days.map(dateStr => workouts.filter(w => w.date === dateStr).length);

    const last30Days = [];
    for(let i=29; i>=0; i--) {
      const d = new Date(today.getTime() - i*oneDayMs);
      last30Days.push(d.toLocaleDateString('tr-TR'));
    }
    const last30DaysCounts = last30Days.map(dateStr => workouts.filter(w => w.date === dateStr).length);

    main.innerHTML = `
      <h3>Toplam Antrenman: ${workouts.length}</h3>
      <div id="muscle-stats">
        ${Object.entries(stats).map(([m,count]) => `<div class="stats-item"><strong>${m}</strong>: ${count} kez (${((count/workouts.length)*100).toFixed(1)}%)</div>`).join('')}
      </div>

      <h3>Haftalık Antrenman Grafiği</h3>
      <canvas id="weeklyChart" height="150"></canvas>

      <h3>Aylık Antrenman Grafiği</h3>
      <canvas id="monthlyChart" height="150"></canvas>
    `;

    const ctxWeekly = document.getElementById('weeklyChart').getContext('2d');
    const ctxMonthly = document.getElementById('monthlyChart').getContext('2d');

    if(window.weeklyChartInstance) window.weeklyChartInstance.destroy();
    if(window.monthlyChartInstance) window.monthlyChartInstance.destroy();

    window.weeklyChartInstance = new Chart(ctxWeekly, {
      type: 'bar',
      data: {
        labels: last7Days,
        datasets: [{
          label: 'Antrenman Sayısı',
          data: last7DaysCounts,
          backgroundColor: '#0a84ff',
          borderRadius: 4,
          borderSkipped: false
        }]
      },
      options: {
        scales: {
          y: { beginAtZero: true, stepSize: 1 }
        },
        plugins: { legend: { display: false } }
      }
    });

    window.monthlyChartInstance = new Chart(ctxMonthly, {
      type: 'bar',
      data: {
        labels: last30Days,
        datasets: [{
          label: 'Antrenman Sayısı',
          data: last30DaysCounts,
          backgroundColor: '#0a84ff',
          borderRadius: 4,
          borderSkipped: false
        }]
      },
      options: {
        scales: {
          y: { beginAtZero: true, stepSize: 1 }
        },
        plugins: { legend: { display: false } },
        parsing: {
          xAxisKey: 'date',
          yAxisKey: 'count'
        }
      }
    });
  }

  // SAYFA: Hedef Belirleme
  function showGoalsPage() {
    setActiveButton(navGoals);
    let goals = loadGoals();
    
    main.innerHTML = `
      <h3>Yeni Hedef Ekle</h3>
      <label>Haftalık Antrenman Hedefi (adet):</label>
      <input type="number" id="goal-number" min="1" max="21" placeholder="Ör: 5" />
      <button class="primary" id="save-goal">Hedef Ekle</button>
      <p id="goal-msg"></p>
      
      <h3>Aktif Hedef</h3>
      <div id="active-goal"></div>
      
      <h3>Tamamlanan Hedefler</h3>
      <div id="completed-goals"></div>
    `;
    
    function renderGoals() {
      const activeGoalDiv = document.getElementById('active-goal');
      const completedGoalsDiv = document.getElementById('completed-goals');
      
      const activeGoal = goals.find(g => !g.completed);
      const completedGoals = goals.filter(g => g.completed).reverse();
      
      if (activeGoal) {
        const progressPercent = Math.min(100, (activeGoal.progress / activeGoal.target) * 100);
        activeGoalDiv.innerHTML = `
          <div class="goal-item">
            <div>
              <strong>Haftada ${activeGoal.target} antrenman</strong>
              <p>İlerleme: ${activeGoal.progress}/${activeGoal.target}</p>
              <div class="goal-progress">
                <div class="goal-progress-bar" style="width: ${progressPercent}%"></div>
              </div>
            </div>
            <button data-id="${activeGoal.id}" class="danger">Sil</button>
          </div>
        `;
      } else {
        activeGoalDiv.innerHTML = '<p>Aktif hedef bulunmamaktadır.</p>';
      }
      
      if (completedGoals.length > 0) {
        completedGoalsDiv.innerHTML = completedGoals.map(goal => `
          <div class="goal-item goal-completed">
            <div>
              <strong>Haftada ${goal.target} antrenman</strong>
              <p>Tamamlandı: ${goal.completedDate}</p>
              <div class="goal-progress">
                <div class="goal-progress-bar"></div>
              </div>
            </div>
            <button data-id="${goal.id}" class="danger">Sil</button>
          </div>
        `).join('');
      } else {
        completedGoalsDiv.innerHTML = '<p>Tamamlanan hedef bulunmamaktadır.</p>';
      }
      
      // Silme butonlarına event ekle
      document.querySelectorAll('#active-goal button, #completed-goals button').forEach(btn => {
        btn.onclick = e => {
          const id = e.target.getAttribute('data-id');
          if (confirm('Bu hedefi silmek istediğinize emin misiniz?')) {
            goals = goals.filter(g => g.id.toString() !== id);
            saveGoals(goals);
            renderGoals(); // Hedeflerin anında güncellenmesi için renderGoals çağrılıyor
          }
        };
      });
    }
    
    document.getElementById('save-goal').onclick = () => {
      const val = parseInt(document.getElementById('goal-number').value);
      const msg = document.getElementById('goal-msg');
      if (!val || val < 1 || val > 21) {
        msg.textContent = "Lütfen 1 ile 21 arasında geçerli bir sayı girin.";
        msg.style.color = 'orange';
        return;
      }
      
      const hasActiveGoal = goals.some(g => !g.completed);
      if (hasActiveGoal) {
        msg.textContent = "Zaten aktif bir hedefiniz var. Önce onu tamamlamalı veya silmelisiniz.";
        msg.style.color = 'orange';
        return;
      }
      
      const newGoal = {
        id: Date.now(),
        target: val,
        progress: 0,
        createdDate: getTodayDate(),
        completed: false
      };
      
      goals.push(newGoal);
      saveGoals(goals);
      msg.textContent = "Yeni hedef eklendi!";
      msg.style.color = 'lightgreen';
      document.getElementById('goal-number').value = '';
      
      renderGoals();
    };
    
    renderGoals();
  }

  // SAYFA: Program Oluşturucu
  function showProgramPage() {
    setActiveButton(navProgram);
    const program = loadProgram();

    const days = ['Pazartesi', 'Salı', 'Çarşamba', 'Perşembe', 'Cuma', 'Cumartesi', 'Pazar'];
    const muscles = ['Göğüs', 'Sırt', 'Bacak', 'Kol', 'Bilek', 'Omuz', 'Kardiyo', 'Karın', 'Dinlenme'];

    let html = `
      <p>Her gün için çalışılacak kas grubunu seçin:</p>
      <table>
        <thead>
          <tr>
            <th>Gün</th>
            <th>Kas Grubu</th>
          </tr>
        </thead>
        <tbody>
    `;

    days.forEach(day => {
      const selected = program[day] || '';
      html += `
        <tr>
          <td>${day}</td>
          <td>
            <select data-day="${day}">
              <option value="">Seçiniz</option>
              ${muscles.map(m => `<option value="${m}" ${m===selected ? 'selected' : ''}>${m}</option>`).join('')}
            </select>
          </td>
        </tr>
      `;
    });

    html += `
        </tbody>
      </table>
      <button class="primary" id="save-program">Programı Kaydet</button>

      <h3>Mevcut Program</h3>
      <table>
        <thead>
          <tr>
            <th>Gün</th>
            <th>Kas Grubu</th>
          </tr>
        </thead>
        <tbody>
          ${days.map(day => `
            <tr>
              <td>${day}</td>
              <td>${program[day] || '-'}</td>
            </tr>
          `).join('')}
        </tbody>
      </table>
    `;

    main.innerHTML = html;

    document.getElementById('save-program').onclick = () => {
      const selects = main.querySelectorAll('select[data-day]');
      const newProgram = {};
      let valid = true;
      selects.forEach(sel => {
        const val = sel.value;
        if (!val) valid = false;
        newProgram[sel.getAttribute('data-day')] = val;
      });

      const msg = document.createElement('p');
      if (!valid) {
        msg.textContent = "Lütfen tüm günler için kas grubu seçin!";
        msg.style.color = 'orange';
        main.appendChild(msg);
        return;
      }

      saveProgram(newProgram);
      msg.textContent = "Program kaydedildi!";
      msg.style.color = 'lightgreen';
      main.appendChild(msg);

      const tbody = main.querySelector('tbody');
      tbody.innerHTML = days.map(day => `
        <tr>
          <td>${day}</td>
          <td>${newProgram[day] || '-'}</td>
        </tr>
      `).join('');
    };
  }

  // Navigasyon eventleri
  navSave.onclick = showSavePage;
  navRecords.onclick = showRecordsPage;
  navStats.onclick = showStatsPage;
  navGoals.onclick = showGoalsPage;
  navProgram.onclick = showProgramPage;

  // İlk sayfa
  showSavePage();

</script>

</body>
</html>
